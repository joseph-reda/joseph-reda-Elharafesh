{"ast":null,"code":"// src/services/booksService.js   ← (بـ s في النهاية)\nimport { ref, get, child } from \"firebase/database\";\nimport { db } from \"../firebase.js\";\n\n// جلب كل الكتب (للـ Home و Category و Search)\nexport async function fetchBooks() {\n  const snapshot = await get(child(ref(db), \"books\"));\n  if (snapshot.exists()) {\n    return Object.entries(snapshot.val()).map(([id, book]) => ({\n      id,\n      ...book\n    }));\n  }\n  return [];\n}\n\n// جلب كتاب واحد بالـ ID (للـ BookDetails)\nexport async function fetchBookById(id) {\n  if (!id) return null;\n  try {\n    const snapshot = await get(child(ref(db), `books/${id}`));\n    if (snapshot.exists()) {\n      return {\n        id,\n        ...snapshot.val()\n      };\n    }\n    return null;\n  } catch (error) {\n    console.error(\"Error fetching book by ID:\", error);\n    throw error;\n  }\n}","map":{"version":3,"names":["ref","get","child","db","fetchBooks","snapshot","exists","Object","entries","val","map","id","book","fetchBookById","error","console"],"sources":["C:/Users/nehru/OneDrive/Desktop/joseph-reda-Elharafesh-master/src/services/booksService.js"],"sourcesContent":["// src/services/booksService.js   ← (بـ s في النهاية)\r\nimport { ref, get, child } from \"firebase/database\";\r\nimport { db } from \"../firebase.js\";\r\n\r\n// جلب كل الكتب (للـ Home و Category و Search)\r\nexport async function fetchBooks() {\r\n    const snapshot = await get(child(ref(db), \"books\"));\r\n    if (snapshot.exists()) {\r\n        return Object.entries(snapshot.val()).map(([id, book]) => ({\r\n            id,\r\n            ...book,\r\n        }));\r\n    }\r\n    return [];\r\n}\r\n\r\n// جلب كتاب واحد بالـ ID (للـ BookDetails)\r\nexport async function fetchBookById(id) {\r\n    if (!id) return null;\r\n    try {\r\n        const snapshot = await get(child(ref(db), `books/${id}`));\r\n        if (snapshot.exists()) {\r\n            return { id, ...snapshot.val() };\r\n        }\r\n        return null;\r\n    } catch (error) {\r\n        console.error(\"Error fetching book by ID:\", error);\r\n        throw error;\r\n    }\r\n}"],"mappings":"AAAA;AACA,SAASA,GAAG,EAAEC,GAAG,EAAEC,KAAK,QAAQ,mBAAmB;AACnD,SAASC,EAAE,QAAQ,gBAAgB;;AAEnC;AACA,OAAO,eAAeC,UAAUA,CAAA,EAAG;EAC/B,MAAMC,QAAQ,GAAG,MAAMJ,GAAG,CAACC,KAAK,CAACF,GAAG,CAACG,EAAE,CAAC,EAAE,OAAO,CAAC,CAAC;EACnD,IAAIE,QAAQ,CAACC,MAAM,CAAC,CAAC,EAAE;IACnB,OAAOC,MAAM,CAACC,OAAO,CAACH,QAAQ,CAACI,GAAG,CAAC,CAAC,CAAC,CAACC,GAAG,CAAC,CAAC,CAACC,EAAE,EAAEC,IAAI,CAAC,MAAM;MACvDD,EAAE;MACF,GAAGC;IACP,CAAC,CAAC,CAAC;EACP;EACA,OAAO,EAAE;AACb;;AAEA;AACA,OAAO,eAAeC,aAAaA,CAACF,EAAE,EAAE;EACpC,IAAI,CAACA,EAAE,EAAE,OAAO,IAAI;EACpB,IAAI;IACA,MAAMN,QAAQ,GAAG,MAAMJ,GAAG,CAACC,KAAK,CAACF,GAAG,CAACG,EAAE,CAAC,EAAE,SAASQ,EAAE,EAAE,CAAC,CAAC;IACzD,IAAIN,QAAQ,CAACC,MAAM,CAAC,CAAC,EAAE;MACnB,OAAO;QAAEK,EAAE;QAAE,GAAGN,QAAQ,CAACI,GAAG,CAAC;MAAE,CAAC;IACpC;IACA,OAAO,IAAI;EACf,CAAC,CAAC,OAAOK,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;IAClD,MAAMA,KAAK;EACf;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}