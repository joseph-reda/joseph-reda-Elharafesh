{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nehru\\\\OneDrive\\\\Desktop\\\\joseph-reda-Elharafesh-master\\\\src\\\\pages\\\\admin\\\\ManageBooks.jsx\",\n  _s = $RefreshSig$();\n// src/pages/admin/ManageBooks.jsx\nimport { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { ref, get, update, remove } from \"firebase/database\";\nimport { db } from \"../../firebase\";\nimport toast, { Toaster } from \"react-hot-toast\";\nimport { motion } from \"framer-motion\";\nimport { ClipLoader } from \"react-spinners\";\nimport { FiEdit, FiTrash2, FiPlus, FiCheckCircle, FiXCircle } from \"react-icons/fi\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ManageBooks() {\n  _s();\n  const navigate = useNavigate();\n  const [books, setBooks] = useState([]);\n  const [filtered, setFiltered] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n\n  // التحقق من صلاحية الإدارة\n  useEffect(() => {\n    const isAdmin = localStorage.getItem(\"isAdmin\") || sessionStorage.getItem(\"isAdmin\");\n    if (!isAdmin) navigate(\"/admin/login\");\n  }, [navigate]);\n\n  // جلب الكتب\n  useEffect(() => {\n    fetchBooksData();\n  }, []);\n  const fetchBooksData = async () => {\n    setLoading(true);\n    try {\n      const snap = await get(ref(db, \"books\"));\n      if (snap.exists()) {\n        const data = Object.entries(snap.val()).map(([id, value]) => ({\n          id,\n          ...value\n        }));\n        const sorted = data.sort((a, b) => (b.createdAt || 0) - (a.createdAt || 0));\n        setBooks(sorted);\n        setFiltered(sorted);\n      } else {\n        setBooks([]);\n        setFiltered([]);\n      }\n    } catch (err) {\n      toast.error(\"فشل تحميل الكتب\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // البحث الفوري\n  useEffect(() => {\n    const term = search.toLowerCase();\n    const result = books.filter(b => {\n      var _b$title, _b$author;\n      return ((_b$title = b.title) === null || _b$title === void 0 ? void 0 : _b$title.toLowerCase().includes(term)) || ((_b$author = b.author) === null || _b$author === void 0 ? void 0 : _b$author.toLowerCase().includes(term));\n    });\n    setFiltered(result);\n  }, [search, books]);\n\n  // تغيير حالة الكتاب: متاح ↔ تم البيع\n  const toggleStatus = async (bookId, currentStatus) => {\n    const newStatus = currentStatus === \"sold\" ? \"available\" : \"sold\";\n    try {\n      await update(ref(db, `books/${bookId}`), {\n        status: newStatus\n      });\n      const updateList = prev => prev.map(book => book.id === bookId ? {\n        ...book,\n        status: newStatus\n      } : book);\n      setBooks(updateList);\n      setFiltered(updateList);\n      toast.success(newStatus === \"sold\" ? \"تم تحويل الكتاب إلى «تم البيع»\" : \"تم تحويل الكتاب إلى «متاح»\");\n    } catch (error) {\n      console.error(\"Error updating status:\", error);\n      toast.error(\"فشل تغيير الحالة\");\n    }\n  };\n\n  // حذف كتاب\n  const handleDelete = async book => {\n    if (!window.confirm(`هل أنت متأكد من حذف \"${book.title}\"؟`)) return;\n    try {\n      await remove(ref(db, `books/${book.id}`));\n      toast.success(\"تم الحذف بنجاح\");\n      fetchBooksData();\n    } catch {\n      toast.error(\"فشل الحذف\");\n    }\n  };\n\n  // تسجيل الخروج\n  const handleLogout = () => {\n    localStorage.removeItem(\"isAdmin\");\n    sessionStorage.removeItem(\"isAdmin\");\n    navigate(\"/admin/login\");\n    toast.success(\"تم تسجيل الخروج\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 p-6\",\n    dir: \"rtl\",\n    children: [/*#__PURE__*/_jsxDEV(Toaster, {\n      position: \"top-center\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold text-gray-800\",\n          children: \"\\u0644\\u0648\\u062D\\u0629 \\u062A\\u062D\\u0643\\u0645 \\u0627\\u0644\\u0645\\u0643\\u062A\\u0628\\u0629\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLogout,\n          className: \"bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded-lg font-medium transition\",\n          children: \"\\u062A\\u0633\\u062C\\u064A\\u0644 \\u0627\\u0644\\u062E\\u0631\\u0648\\u062C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => toast(\"قريبًا: إضافة وتعديل الكتب\", {\n            icon: \"ℹ️\"\n          }),\n          className: \"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium flex items-center gap-2 transition opacity-70\",\n          disabled: true,\n          children: [/*#__PURE__*/_jsxDEV(FiPlus, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 25\n          }, this), \" \\u0625\\u0636\\u0627\\u0641\\u0629 \\u0643\\u062A\\u0627\\u0628 \\u062C\\u062F\\u064A\\u062F (\\u0642\\u0631\\u064A\\u0628\\u064B\\u0627)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"\\u0627\\u0628\\u062D\\u062B \\u0628\\u0627\\u0644\\u0639\\u0646\\u0648\\u0627\\u0646 \\u0623\\u0648 \\u0627\\u0644\\u0645\\u0624\\u0644\\u0641...\",\n        value: search,\n        onChange: e => setSearch(e.target.value),\n        className: \"w-full max-w-md mb-8 px-4 py-3 border border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-20\",\n        children: /*#__PURE__*/_jsxDEV(ClipLoader, {\n          size: 60,\n          color: \"#3B82F6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 21\n      }, this) : filtered.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center text-gray-600 text-xl py-20\",\n        children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0643\\u062A\\u0628 \\u0645\\u0637\\u0627\\u0628\\u0642\\u0629 \\u0644\\u0644\\u0628\\u062D\\u062B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-6\",\n        children: filtered.map(book => /*#__PURE__*/_jsxDEV(motion.div, {\n          initial: {\n            opacity: 0,\n            y: 20\n          },\n          animate: {\n            opacity: 1,\n            y: 0\n          },\n          className: \"bg-white p-6 rounded-xl shadow-md border border-gray-200 hover:shadow-lg transition-shadow\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-start mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-xl font-bold text-gray-800\",\n                children: book.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: [\"\\u0627\\u0644\\u0643\\u0648\\u062F: \", book.id]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => toggleStatus(book.id, book.status),\n                className: `flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${book.status === \"sold\" ? \"bg-green-100 text-green-700 hover:bg-green-200\" : \"bg-gray-100 text-gray-700 hover:bg-gray-200\"}`,\n                children: book.status === \"sold\" ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [\"\\u0645\\u062A\\u0627\\u062D \", /*#__PURE__*/_jsxDEV(FiCheckCircle, {\n                    size: 18\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 181,\n                    columnNumber: 56\n                  }, this)]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [\"\\u062A\\u0645 \\u0627\\u0644\\u0628\\u064A\\u0639 \", /*#__PURE__*/_jsxDEV(FiXCircle, {\n                    size: 18\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 183,\n                    columnNumber: 60\n                  }, this)]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => toast(\"قريبًا: تعديل الكتاب\", {\n                  icon: \"ℹ️\"\n                }),\n                className: \"text-blue-600 hover:text-blue-800 transition opacity-70\",\n                title: \"\\u062A\\u0639\\u062F\\u064A\\u0644 (\\u0642\\u0631\\u064A\\u0628\\u064B\\u0627)\",\n                disabled: true,\n                children: /*#__PURE__*/_jsxDEV(FiEdit, {\n                  size: 24\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDelete(book),\n                className: \"text-red-600 hover:text-red-800 transition\",\n                title: \"\\u062D\\u0630\\u0641 \\u0627\\u0644\\u0643\\u062A\\u0627\\u0628\",\n                children: /*#__PURE__*/_jsxDEV(FiTrash2, {\n                  size: 24\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-700\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u0627\\u0644\\u0645\\u0624\\u0644\\u0641:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 40\n              }, this), \" \", book.author || \"غير محدد\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u0627\\u0644\\u062A\\u0635\\u0646\\u064A\\u0641:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 40\n              }, this), \" \", book.category || \"غير محدد\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u0627\\u0644\\u0633\\u0639\\u0631:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 40\n              }, this), \" \", book.price ? `${book.price} ج.م` : \"غير محدد\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u0627\\u0644\\u062D\\u0627\\u0644\\u0629:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 41\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: book.status === \"sold\" ? \"text-red-600\" : \"text-green-600\",\n                children: book.status === \"sold\" ? \"تم البيع\" : \"متاح\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u0639\\u062F\\u062F \\u0627\\u0644\\u0635\\u0641\\u062D\\u0627\\u062A:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 40\n              }, this), \" \", book.HPaper || \"غير محدد\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u062A\\u0627\\u0631\\u064A\\u062E \\u0627\\u0644\\u0625\\u0636\\u0627\\u0641\\u0629:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 40\n              }, this), \" \", book.createdAt ? new Date(book.createdAt).toLocaleDateString(\"ar-EG\") : \"غير معروف\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 33\n          }, this), book.description && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-4 text-gray-700 border-t pt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u0627\\u0644\\u0648\\u0635\\u0641:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 41\n            }, this), \" \", book.description]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 37\n          }, this), book.images && book.images.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap gap-3 mt-4\",\n            children: book.images.map((url, i) => /*#__PURE__*/_jsxDEV(\"img\", {\n              src: url,\n              alt: `صورة ${i + 1}`,\n              className: \"w-20 h-28 object-cover rounded border border-gray-300 shadow-sm\"\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 45\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 37\n          }, this)]\n        }, book.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 9\n  }, this);\n}\n_s(ManageBooks, \"VVoccbRCK/FdmOSxzt5Re/roPd4=\", false, function () {\n  return [useNavigate];\n});\n_c = ManageBooks;\nvar _c;\n$RefreshReg$(_c, \"ManageBooks\");","map":{"version":3,"names":["useState","useEffect","useNavigate","ref","get","update","remove","db","toast","Toaster","motion","ClipLoader","FiEdit","FiTrash2","FiPlus","FiCheckCircle","FiXCircle","jsxDEV","_jsxDEV","Fragment","_Fragment","ManageBooks","_s","navigate","books","setBooks","filtered","setFiltered","search","setSearch","loading","setLoading","isAdmin","localStorage","getItem","sessionStorage","fetchBooksData","snap","exists","data","Object","entries","val","map","id","value","sorted","sort","a","b","createdAt","err","error","term","toLowerCase","result","filter","_b$title","_b$author","title","includes","author","toggleStatus","bookId","currentStatus","newStatus","status","updateList","prev","book","success","console","handleDelete","window","confirm","handleLogout","removeItem","className","dir","children","position","fileName","_jsxFileName","lineNumber","columnNumber","onClick","icon","disabled","size","type","placeholder","onChange","e","target","color","length","div","initial","opacity","y","animate","category","price","HPaper","Date","toLocaleDateString","description","images","url","i","src","alt","_c","$RefreshReg$"],"sources":["C:/Users/nehru/OneDrive/Desktop/joseph-reda-Elharafesh-master/src/pages/admin/ManageBooks.jsx"],"sourcesContent":["// src/pages/admin/ManageBooks.jsx\r\nimport { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { ref, get, update, remove } from \"firebase/database\";\r\nimport { db } from \"../../firebase\";\r\nimport toast, { Toaster } from \"react-hot-toast\";\r\nimport { motion } from \"framer-motion\";\r\nimport { ClipLoader } from \"react-spinners\";\r\nimport { FiEdit, FiTrash2, FiPlus, FiCheckCircle, FiXCircle } from \"react-icons/fi\";\r\n\r\nexport default function ManageBooks() {\r\n    const navigate = useNavigate();\r\n    const [books, setBooks] = useState([]);\r\n    const [filtered, setFiltered] = useState([]);\r\n    const [search, setSearch] = useState(\"\");\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    // التحقق من صلاحية الإدارة\r\n    useEffect(() => {\r\n        const isAdmin = localStorage.getItem(\"isAdmin\") || sessionStorage.getItem(\"isAdmin\");\r\n        if (!isAdmin) navigate(\"/admin/login\");\r\n    }, [navigate]);\r\n\r\n    // جلب الكتب\r\n    useEffect(() => {\r\n        fetchBooksData();\r\n    }, []);\r\n\r\n    const fetchBooksData = async () => {\r\n        setLoading(true);\r\n        try {\r\n            const snap = await get(ref(db, \"books\"));\r\n            if (snap.exists()) {\r\n                const data = Object.entries(snap.val()).map(([id, value]) => ({\r\n                    id,\r\n                    ...value,\r\n                }));\r\n                const sorted = data.sort((a, b) => (b.createdAt || 0) - (a.createdAt || 0));\r\n                setBooks(sorted);\r\n                setFiltered(sorted);\r\n            } else {\r\n                setBooks([]);\r\n                setFiltered([]);\r\n            }\r\n        } catch (err) {\r\n            toast.error(\"فشل تحميل الكتب\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    // البحث الفوري\r\n    useEffect(() => {\r\n        const term = search.toLowerCase();\r\n        const result = books.filter(\r\n            (b) =>\r\n                b.title?.toLowerCase().includes(term) ||\r\n                b.author?.toLowerCase().includes(term)\r\n        );\r\n        setFiltered(result);\r\n    }, [search, books]);\r\n\r\n    // تغيير حالة الكتاب: متاح ↔ تم البيع\r\n    const toggleStatus = async (bookId, currentStatus) => {\r\n        const newStatus = currentStatus === \"sold\" ? \"available\" : \"sold\";\r\n\r\n        try {\r\n            await update(ref(db, `books/${bookId}`), { status: newStatus });\r\n\r\n            const updateList = (prev) =>\r\n                prev.map((book) =>\r\n                    book.id === bookId ? { ...book, status: newStatus } : book\r\n                );\r\n\r\n            setBooks(updateList);\r\n            setFiltered(updateList);\r\n\r\n            toast.success(\r\n                newStatus === \"sold\"\r\n                    ? \"تم تحويل الكتاب إلى «تم البيع»\"\r\n                    : \"تم تحويل الكتاب إلى «متاح»\"\r\n            );\r\n        } catch (error) {\r\n            console.error(\"Error updating status:\", error);\r\n            toast.error(\"فشل تغيير الحالة\");\r\n        }\r\n    };\r\n\r\n    // حذف كتاب\r\n    const handleDelete = async (book) => {\r\n        if (!window.confirm(`هل أنت متأكد من حذف \"${book.title}\"؟`)) return;\r\n\r\n        try {\r\n            await remove(ref(db, `books/${book.id}`));\r\n            toast.success(\"تم الحذف بنجاح\");\r\n            fetchBooksData();\r\n        } catch {\r\n            toast.error(\"فشل الحذف\");\r\n        }\r\n    };\r\n\r\n    // تسجيل الخروج\r\n    const handleLogout = () => {\r\n        localStorage.removeItem(\"isAdmin\");\r\n        sessionStorage.removeItem(\"isAdmin\");\r\n        navigate(\"/admin/login\");\r\n        toast.success(\"تم تسجيل الخروج\");\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-50 p-6\" dir=\"rtl\">\r\n            <Toaster position=\"top-center\" />\r\n\r\n            <div className=\"max-w-7xl mx-auto\">\r\n                {/* العنوان + زر الخروج */}\r\n                <div className=\"flex justify-between items-center mb-8\">\r\n                    <h1 className=\"text-3xl font-bold text-gray-800\">لوحة تحكم المكتبة</h1>\r\n                    <button\r\n                        onClick={handleLogout}\r\n                        className=\"bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded-lg font-medium transition\"\r\n                    >\r\n                        تسجيل الخروج\r\n                    </button>\r\n                </div>\r\n\r\n                {/* زر إضافة كتاب جديد (مؤقتًا معطل لأن النموذج محذوف من الكود الحالي) */}\r\n                <div className=\"mb-6\">\r\n                    <button\r\n                        onClick={() => toast(\"قريبًا: إضافة وتعديل الكتب\", { icon: \"ℹ️\" })}\r\n                        className=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium flex items-center gap-2 transition opacity-70\"\r\n                        disabled\r\n                    >\r\n                        <FiPlus size={20} /> إضافة كتاب جديد (قريبًا)\r\n                    </button>\r\n                </div>\r\n\r\n                {/* شريط البحث */}\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"ابحث بالعنوان أو المؤلف...\"\r\n                    value={search}\r\n                    onChange={(e) => setSearch(e.target.value)}\r\n                    className=\"w-full max-w-md mb-8 px-4 py-3 border border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none\"\r\n                />\r\n\r\n                {/* قائمة الكتب */}\r\n                {loading ? (\r\n                    <div className=\"text-center py-20\">\r\n                        <ClipLoader size={60} color=\"#3B82F6\" />\r\n                    </div>\r\n                ) : filtered.length === 0 ? (\r\n                    <p className=\"text-center text-gray-600 text-xl py-20\">\r\n                        لا توجد كتب مطابقة للبحث\r\n                    </p>\r\n                ) : (\r\n                    <div className=\"space-y-6\">\r\n                        {filtered.map((book) => (\r\n                            <motion.div\r\n                                key={book.id}\r\n                                initial={{ opacity: 0, y: 20 }}\r\n                                animate={{ opacity: 1, y: 0 }}\r\n                                className=\"bg-white p-6 rounded-xl shadow-md border border-gray-200 hover:shadow-lg transition-shadow\"\r\n                            >\r\n                                <div className=\"flex justify-between items-start mb-4\">\r\n                                    <div>\r\n                                        <h3 className=\"text-xl font-bold text-gray-800\">{book.title}</h3>\r\n                                        <p className=\"text-sm text-gray-500\">الكود: {book.id}</p>\r\n                                    </div>\r\n\r\n                                    <div className=\"flex items-center gap-3\">\r\n                                        {/* زر تغيير الحالة */}\r\n                                        <button\r\n                                            onClick={() => toggleStatus(book.id, book.status)}\r\n                                            className={`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${\r\n                                                book.status === \"sold\"\r\n                                                    ? \"bg-green-100 text-green-700 hover:bg-green-200\"\r\n                                                    : \"bg-gray-100 text-gray-700 hover:bg-gray-200\"\r\n                                            }`}\r\n                                        >\r\n                                            {book.status === \"sold\" ? (\r\n                                                <>متاح <FiCheckCircle size={18} /></>\r\n                                            ) : (\r\n                                                <>تم البيع <FiXCircle size={18} /></>\r\n                                            )}\r\n                                        </button>\r\n\r\n                                        {/* تعديل (مؤقتًا معطل) */}\r\n                                        <button\r\n                                            onClick={() => toast(\"قريبًا: تعديل الكتاب\", { icon: \"ℹ️\" })}\r\n                                            className=\"text-blue-600 hover:text-blue-800 transition opacity-70\"\r\n                                            title=\"تعديل (قريبًا)\"\r\n                                            disabled\r\n                                        >\r\n                                            <FiEdit size={24} />\r\n                                        </button>\r\n\r\n                                        {/* حذف */}\r\n                                        <button\r\n                                            onClick={() => handleDelete(book)}\r\n                                            className=\"text-red-600 hover:text-red-800 transition\"\r\n                                            title=\"حذف الكتاب\"\r\n                                        >\r\n                                            <FiTrash2 size={24} />\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* تفاصيل الكتاب */}\r\n                                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-700\">\r\n                                    <p><strong>المؤلف:</strong> {book.author || \"غير محدد\"}</p>\r\n                                    <p><strong>التصنيف:</strong> {book.category || \"غير محدد\"}</p>\r\n                                    <p><strong>السعر:</strong> {book.price ? `${book.price} ج.م` : \"غير محدد\"}</p>\r\n                                    <p>\r\n                                        <strong>الحالة:</strong>{\" \"}\r\n                                        <span className={book.status === \"sold\" ? \"text-red-600\" : \"text-green-600\"}>\r\n                                            {book.status === \"sold\" ? \"تم البيع\" : \"متاح\"}\r\n                                        </span>\r\n                                    </p>\r\n                                    <p><strong>عدد الصفحات:</strong> {book.HPaper || \"غير محدد\"}</p>\r\n                                    <p><strong>تاريخ الإضافة:</strong> {book.createdAt ? new Date(book.createdAt).toLocaleDateString(\"ar-EG\") : \"غير معروف\"}</p>\r\n                                </div>\r\n\r\n                                {/* الوصف */}\r\n                                {book.description && (\r\n                                    <p className=\"mt-4 text-gray-700 border-t pt-4\">\r\n                                        <strong>الوصف:</strong> {book.description}\r\n                                    </p>\r\n                                )}\r\n\r\n                                {/* الصور */}\r\n                                {book.images && book.images.length > 0 && (\r\n                                    <div className=\"flex flex-wrap gap-3 mt-4\">\r\n                                        {book.images.map((url, i) => (\r\n                                            <img\r\n                                                key={i}\r\n                                                src={url}\r\n                                                alt={`صورة ${i + 1}`}\r\n                                                className=\"w-20 h-28 object-cover rounded border border-gray-300 shadow-sm\"\r\n                                            />\r\n                                        ))}\r\n                                    </div>\r\n                                )}\r\n                            </motion.div>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}